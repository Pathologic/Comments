## Форма комментирования
**Требует FormLister версии 1.9.0 или выше.**

Выводится и обрабатывается контроллером Comments. Вызов происходит с помощью сниппета CommentsForm, в котором задаются параметры по умолчанию. Часть параметров вынесена в конфиг assets/snippets/Comments/config/form.json.

Параметры, с которыми вызывается сниппет CommentsForm сохраняются в БД для использования ajax-обработчиком. К сожалению, при этом теряется возможность использовать в качестве параметров анонимные функции и объекты.

Комментарии могут редактировать только зарегистрированные пользователи с выполнением следующих условий:
* комментарий должен быть опубликован;
* комментарий не должен быть удален;
* не должно быть ответов на комментарий;
* не должно истечь заданное время редактирования. 

### Требования к верстке

### Параметры
* model, modelPath - подключение модель Comments\Comments.
* id - id редактируемого комментария, включает режим редактирования;
* disableGuests - если значение 1 (по умолчанию), то запрещает комментировать анонимным пользователям; если 0, то для анонимных пользователей используется отдельная форма и правила валидации;
* skipTpl - шаблон сообщения о запрете комментирования для анонимных пользователей;
* guestFormTpl - шаблон формы для анонимных пользователей, должен включать поля name и email;
* editFormTpl - наблон формы для редактирования комментария (не обязательно);
* guestRules - правила обработки формы для анонимных пользователей;
* editRules - правила для режима редактирования;
* editTime - время редактирования комментария в секундах, 0 - если не ограничено (по умолчанию 180 секунд);
* context, thread - см. вывод комментариев.
* useCaptchaForGuestsOnly - если значение 1 (по умолчанию), то капча подключается только для анонимных пользователей; если 0 - всегда.
* moderation - параметры контроллера Moderation для передачи в ajax-обработчик.
